/* ── Page ─────────────────────────────────────────────────── */
.page {
  min-height: 100vh;
  background: var(--bg);
  display: flex;
  flex-direction: column;
}

/* ── Top Bar ─────────────────────────────────────────────── */
.topbar {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .85rem 1.5rem;
  background: rgba(255,255,255,.9);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}

.topbarLeft {
  display: flex;
  align-items: center;
  gap: .55rem;
}

.logoSmall { font-size: 1.4rem; }

.topbarTitle {
  font-weight: 800;
  font-size: 1rem;
  color: var(--primary-dark);
}

.resetBtn {
  padding: .4rem .9rem;
  border: 1.5px solid var(--border);
  border-radius: var(--radius-sm);
  background: transparent;
  font-family: inherit;
  font-size: .85rem;
  font-weight: 600;
  color: var(--text-secondary);
  cursor: pointer;
  transition: var(--transition);
}

.resetBtn:hover {
  background: var(--primary-light);
  border-color: var(--primary);
  color: var(--primary);
}

/* ── Main ─────────────────────────────────────────────────── */
.main {
  max-width: 820px;
  width: 100%;
  margin: 0 auto;
  padding: 1.75rem 1.25rem 4rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* ── Score Hero ───────────────────────────────────────────── */
.scoreHero {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  background: var(--surface);
  border-radius: var(--radius-lg);
  padding: 1.75rem 1.5rem;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border);
  animation: fadeUp .4s ease both;
  flex-wrap: wrap;
}

.scoreCard {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: .3rem;
  flex: 1;
  min-width: 110px;
}

.scoreLabel {
  font-size: .78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .07em;
  color: var(--text-muted);
}

.scoreValue {
  font-size: 2.8rem;
  font-weight: 800;
  color: var(--text-primary);
  line-height: 1;
}

.predictedCard {
  background: linear-gradient(135deg, #1a56db12, #0ea5e912);
  border-radius: var(--radius-md);
  padding: 1rem 1.5rem;
  border: 2px solid var(--primary);
  position: relative;
}

.predictedValue {
  color: var(--primary);
}

.gainBadge {
  font-size: .78rem;
  font-weight: 700;
  color: var(--success);
  background: var(--success-bg);
  padding: .15rem .55rem;
  border-radius: 999px;
  border: 1px solid #86efac;
}

.targetValue { color: #7c3aed; }

.arrow {
  font-size: 1.5rem;
  color: var(--text-muted);
  flex-shrink: 0;
}

/* ── Progress Section ────────────────────────────────────── */
.progressSection {
  background: var(--surface);
  border-radius: var(--radius-lg);
  padding: 1.5rem;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: .85rem;
  animation: fadeUp .4s ease .05s both;
}

.progressHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.progressLabel {
  font-size: .9rem;
  font-weight: 600;
  color: var(--text-secondary);
}

.progressPct {
  font-size: 1.05rem;
  font-weight: 800;
  color: var(--primary);
}

/* ── Feedback Message ────────────────────────────────────── */
.feedback {
  display: flex;
  align-items: flex-start;
  gap: .6rem;
  padding: .9rem 1.1rem;
  border-radius: var(--radius-sm);
  font-size: .92rem;
  font-weight: 600;
  line-height: 1.5;
  transition: var(--transition);
}

.feedbackGood {
  background: var(--success-bg);
  color: #166534;
  border: 1px solid #86efac;
}

.feedbackWarn {
  background: var(--warning-bg);
  color: #92400e;
  border: 1px solid #fcd34d;
}

.feedbackIcon { font-size: 1.1rem; flex-shrink: 0; }

/* ── Study Plan ──────────────────────────────────────────── */
.planSection {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  animation: fadeUp .4s ease .1s both;
}

.planHeader {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: .4rem;
}

.planTitle {
  font-size: 1.15rem;
  font-weight: 700;
  color: var(--text-primary);
}

.planMeta {
  font-size: .82rem;
  color: var(--text-muted);
}

.taskList {
  display: flex;
  flex-direction: column;
  gap: .75rem;
}

/* ── Task Card ────────────────────────────────────────────── */
.taskCard {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--surface);
  border: 1.5px solid var(--border);
  border-radius: var(--radius-md);
  padding: 1rem 1.25rem;
  cursor: pointer;
  transition: var(--transition);
  box-shadow: var(--shadow-sm);
  gap: 1rem;
}

.taskCard:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--primary);
  transform: translateY(-1px);
}

.taskChecked {
  background: #f0fdf4;
  border-color: #22c55e;
  opacity: .9;
}

.taskLeft {
  display: flex;
  align-items: center;
  gap: .85rem;
  flex: 1;
  min-width: 0;
}

/* Color accents per task */
.task-blue  { border-left: 4px solid #3b82f6; }
.task-teal  { border-left: 4px solid #0d9488; }
.task-violet{ border-left: 4px solid #7c3aed; }
.task-rose  { border-left: 4px solid #e11d48; }

.checkbox {
  width: 18px;
  height: 18px;
  accent-color: var(--primary);
  cursor: pointer;
  flex-shrink: 0;
}

.taskIcon { font-size: 1.5rem; flex-shrink: 0; }

.taskBody {
  display: flex;
  flex-direction: column;
  gap: .2rem;
  min-width: 0;
}

.taskLabel {
  font-size: .97rem;
  font-weight: 700;
  color: var(--text-primary);
}

.taskDesc {
  font-size: .82rem;
  color: var(--text-secondary);
  line-height: 1.4;
}

.taskTag {
  font-size: .83rem;
  font-weight: 700;
  color: var(--primary);
  background: var(--primary-light);
  padding: .25rem .65rem;
  border-radius: 999px;
  white-space: nowrap;
  flex-shrink: 0;
  border: 1px solid #c7d8f8;
  transition: var(--transition);
}

.taskTagDone {
  color: var(--success);
  background: var(--success-bg);
  border-color: #86efac;
}

/* ── Info Row ────────────────────────────────────────────── */
.infoRow {
  display: flex;
  gap: .85rem;
  flex-wrap: wrap;
  animation: fadeUp .4s ease .15s both;
}

.infoCard {
  flex: 1;
  min-width: 130px;
  background: var(--surface);
  border-radius: var(--radius-md);
  padding: 1rem;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: .25rem;
  text-align: center;
}

.infoIcon { font-size: 1.4rem; }

.infoLabel {
  font-size: .75rem;
  color: var(--text-muted);
  font-weight: 500;
}

.infoValue {
  font-size: 1rem;
  font-weight: 700;
  color: var(--primary-dark);
}

/* ── Animations ───────────────────────────────────────────── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(16px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ── Responsive ──────────────────────────────────────────── */
@media (max-width: 600px) {
  .scoreHero { padding: 1.25rem 1rem; gap: .6rem; }
  .scoreValue { font-size: 2.2rem; }
  .arrow { font-size: 1.1rem; }
  .taskCard { flex-direction: column; align-items: flex-start; }
  .taskTag { align-self: flex-end; }
  .topbarTitle { display: none; }
}
